import { useState } from 'react';

const svgPaths = {
p15d5b000: "M7.50708 6.72842C7.49515 6.41799 7.23382 6.17601 6.92339 6.18795C6.61296 6.19988 6.37098 6.46121 6.38292 6.77164L6.64242 13.5216C6.65435 13.8321 6.91568 14.0741 7.22611 14.0621C7.53654 14.0502 7.77852 13.7889 7.76658 13.4784L7.50708 6.72842ZM11.6171 6.77164C11.629 6.46121 11.387 6.19988 11.0766 6.18795C10.7662 6.17601 10.5048 6.41799 10.4929 6.72842L10.2334 13.4784C10.2215 13.7889 10.4635 14.0502 10.7739 14.0621C11.0843 14.0741 11.3457 13.8321 11.3576 13.5216L11.6171 6.77164Z",
p1a72f800: "M12 3.75C9.81196 3.75 7.71354 4.61919 6.16637 6.16637C4.61919 7.71354 3.75 9.81196 3.75 12C3.75 13.0834 3.96339 14.1562 4.37799 15.1571C4.79259 16.1581 5.40029 17.0675 6.16637 17.8336C6.93245 18.5997 7.84193 19.2074 8.84286 19.622C9.8438 20.0366 10.9166 20.25 12 20.25C13.0834 20.25 14.1562 20.0366 15.1571 19.622C16.1581 19.2074 17.0675 18.5997 17.8336 17.8336C18.5997 17.0675 19.2074 16.1581 19.622 15.1571C20.0366 14.1562 20.25 13.0834 20.25 12C20.25 9.81196 19.3808 7.71354 17.8336 6.16637C16.2865 4.61919 14.188 3.75 12 3.75ZM5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12C21.75 13.2804 21.4978 14.5482 21.0078 15.7312C20.5178 16.9141 19.7997 17.9889 18.8943 18.8943C17.9889 19.7997 16.9141 20.5178 15.7312 21.0078C14.5482 21.4978 13.2804 21.75 12 21.75C10.7196 21.75 9.45176 21.4978 8.26884 21.0078C7.08591 20.5178 6.01108 19.7997 5.10571 18.8943C4.20034 17.9889 3.48216 16.9141 2.99217 15.7312C2.50219 14.5482 2.25 13.2804 2.25 12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571ZM15.4359 9.1397C15.773 9.38046 15.8511 9.84887 15.6103 10.1859L11.8603 15.4359C11.7322 15.6153 11.5316 15.7293 11.3119 15.7474C11.0921 15.7656 10.8756 15.6862 10.7197 15.5303L8.46967 13.2803C8.17678 12.9874 8.17678 12.5126 8.46967 12.2197C8.76256 11.9268 9.23744 11.9268 9.53033 12.2197L11.1543 13.8436L14.3897 9.31407C14.6305 8.97701 15.0989 8.89894 15.4359 9.1397Z",
p1e899480: "M0.209473 11.7918L1.02896 8.81751C0.521793 7.94774 0.255318 6.95819 0.255318 5.94869C0.258183 2.78329 2.84557 0.208191 6.02609 0.208191C7.5705 0.208191 9.01749 0.80705 10.1063 1.8907C11.1951 2.97435 11.794 4.41732 11.794 5.95154C11.794 9.11694 9.20373 11.692 6.02609 11.692H6.02322C5.05761 11.692 4.10918 11.4496 3.26678 10.9934L0.209473 11.7918Z",
p1f07d480: "M1.01821 5.64675C4.11895 4.29581 6.1866 3.40519 7.22115 2.97488C10.175 1.74627 10.7888 1.53285 11.1888 1.5258C11.2768 1.52425 11.4736 1.54606 11.601 1.64946C11.7086 1.73678 11.7382 1.85473 11.7524 1.93751C11.7666 2.0203 11.7842 2.20888 11.7702 2.35623C11.6101 4.03811 10.9175 8.11957 10.5651 10.0033C10.416 10.8004 10.1224 11.0676 9.83821 11.0938C9.22053 11.1506 8.7515 10.6856 8.15325 10.2934C7.2171 9.67976 6.68824 9.29775 5.77954 8.69894C4.72939 8.00691 5.41016 7.62655 6.00864 7.00495C6.16526 6.84227 8.88677 4.36686 8.93944 4.1423C8.94603 4.11421 8.95215 4.00953 8.88995 3.95425C8.82776 3.89897 8.73597 3.91787 8.66973 3.93291C8.57584 3.95422 7.08033 4.94269 4.18321 6.89832C3.75872 7.18981 3.37422 7.33184 3.02973 7.32439C2.64996 7.31619 1.91942 7.10966 1.37634 6.93313C0.71023 6.7166 0.18082 6.60213 0.226919 6.2344C0.250931 6.04286 0.514693 5.84698 1.01821 5.64675Z",
p26824a80: "M14.9062 2.24981C14.6824 2.24981 14.4678 2.33873 14.3095 2.497L13.4419 3.36513L14.6351 4.55838L15.503 3.6905C15.6613 3.53223 15.7502 3.31758 15.7502 3.09375C15.7502 2.86992 15.6613 2.65527 15.503 2.497C15.3447 2.33873 15.1301 2.24981 14.9062 2.24981ZM13.8396 5.35387L12.6465 4.16072L6.34536 10.4611C6.34532 10.4612 6.34541 10.4611 6.34536 10.4611C6.01521 10.7915 5.77239 11.1991 5.63911 11.6468L5.33604 12.664L6.35313 12.3609C6.80081 12.2276 7.20835 11.9849 7.53875 11.6548C7.53879 11.6547 7.53871 11.6548 7.53875 11.6548L13.8396 5.35387ZM13.5139 1.70162C13.8831 1.33237 14.3841 1.12481 14.9062 1.12481C15.4284 1.12481 15.9293 1.33226 16.2985 1.7015C16.6677 2.07075 16.8752 2.57156 16.8752 3.09375C16.8752 3.61594 16.6677 4.11675 16.2985 4.486L8.33425 12.4502C7.87168 12.9125 7.30115 13.2525 6.67437 13.4391C6.67433 13.4391 6.67441 13.4391 6.67437 13.4391L4.66062 14.0391C4.46267 14.0981 4.24831 14.0438 4.10225 13.8977C3.9562 13.7517 3.90194 13.5373 3.96092 13.3394L4.56089 11.3257C4.5609 11.3257 4.56087 11.3258 4.56089 11.3257C4.74751 10.699 5.08734 10.1284 5.54964 9.66587L13.5139 1.70162ZM3.9375 5.0625C3.63913 5.0625 3.35298 5.18103 3.142 5.392C2.93103 5.60298 2.8125 5.88913 2.8125 6.1875V14.0625C2.8125 14.3609 2.93103 14.647 3.142 14.858C3.35298 15.069 3.63913 15.1875 3.9375 15.1875H11.8125C12.1109 15.1875 12.397 15.069 12.608 14.858C12.819 14.647 12.9375 14.3609 12.9375 14.0625V10.5C12.9375 10.1893 13.1893 9.9375 13.5 9.9375C13.8107 9.9375 14.0625 10.1893 14.0625 10.5V14.0625C14.0625 14.6592 13.8254 15.2315 13.4035 15.6535C12.9815 16.0754 12.4092 16.3125 11.8125 16.3125H3.9375C3.34076 16.3125 2.76847 16.0754 2.34651 15.6535C1.92455 15.2315 1.6875 14.6592 1.6875 14.0625V6.1875C1.6875 5.59076 1.92455 5.01847 2.34651 4.59651C2.76847 4.17455 3.34076 3.9375 3.9375 3.9375H7.5C7.81066 3.9375 8.0625 4.18934 8.0625 4.5C8.0625 4.81066 7.81066 5.0625 7.5 5.0625H3.9375Z",
p27bc0380: "M10.2626 1.14481C9.42109 1.11792 8.57891 1.11792 7.73737 1.14481C6.53399 1.18272 5.625 2.18498 5.625 3.35778V3.52786C4.91283 3.59319 4.20268 3.67936 3.49548 3.78627C3.23459 3.82517 2.97537 3.86711 2.71633 3.91206C2.41024 3.96518 2.20517 4.25637 2.25828 4.56245C2.3114 4.86854 2.60259 5.07361 2.90867 5.0205C2.96076 5.01146 3.01285 5.00255 3.06494 4.99377L3.81916 14.7979C3.86275 15.3631 4.1181 15.8912 4.53414 16.2763C4.95015 16.6613 5.49616 16.8752 6.063 16.875H11.9368C12.5037 16.8752 13.0499 16.6613 13.4659 16.2763C13.8819 15.8912 14.1372 15.3633 14.1808 14.798L14.935 4.9945C14.9871 5.0033 15.0392 5.01221 15.0913 5.02125C15.3974 5.07436 15.6886 4.86929 15.7417 4.5632C15.7948 4.25712 15.5898 3.96593 15.2837 3.91281C15.0244 3.86783 14.7656 3.82595 14.5056 3.78642C13.7982 3.67948 13.0874 3.59321 12.375 3.52786V3.35778C12.375 2.18406 11.4659 1.18272 10.2626 1.14481ZM11.7692 4.60561C12.4547 4.65868 13.1385 4.73165 13.8198 4.82441L13.0592 14.7115C13.0374 14.9941 12.9097 15.2581 12.7017 15.4507C12.4937 15.6432 12.2206 15.7501 11.9372 15.75H6.063C5.77955 15.7501 5.50635 15.6432 5.29832 15.4507C5.09033 15.2581 4.96266 14.9942 4.94084 14.7116L4.18023 4.82441C4.86147 4.73165 5.5453 4.65868 6.23084 4.60561C8.07415 4.46315 9.92585 4.46315 11.7692 4.60561ZM6.75 3.44212C8.24861 3.35098 9.75138 3.35098 11.25 3.44212V3.35778C11.25 2.76161 10.794 2.28702 10.2274 2.26925C9.40956 2.24312 8.59078 2.2431 7.77297 2.26924C7.20652 2.287 6.75 2.76219 6.75 3.35778V3.44212Z",
p33ab7980: "M0 12L0.848137 8.92015C0.323782 8.01616 0.0487106 6.9924 0.0515759 5.94582C0.0515759 2.66635 2.73352 0 6.02578 0C7.62464 0 9.12607 0.618821 10.2521 1.7424C11.3811 2.86597 12.0029 4.36027 12 5.94867C12 9.22814 9.31804 11.8945 6.02292 11.8945H6.02005C5.02005 11.8945 4.03725 11.6435 3.16332 11.1702L0 12ZM3.31518 10.0951L3.4957 10.2034C4.25788 10.654 5.1318 10.8907 6.02292 10.8935H6.02578C8.76217 10.8935 10.9914 8.67776 10.9914 5.95152C10.9914 4.63118 10.4756 3.39069 9.53867 2.45532C8.60171 1.51996 7.35243 1.00665 6.02578 1.00665C3.2894 1.0038 1.06017 3.21958 1.06017 5.94582C1.06017 6.87833 1.32092 7.78802 1.81948 8.5751L1.93696 8.76331L1.43553 10.5856L3.31518 10.0951Z",
p38e5e800: "M7.20938 14.7698C6.92228 14.4713 6.93159 13.9965 7.23017 13.7094L11.1679 10L7.23017 6.29062C6.93159 6.00353 6.92228 5.52875 7.20938 5.23017C7.49647 4.93159 7.97125 4.92228 8.26983 5.20937L12.7698 9.45937C12.9169 9.60078 13 9.79599 13 10C13 10.204 12.9169 10.3992 12.7698 10.5406L8.26983 14.7906C7.97125 15.0777 7.49647 15.0684 7.20938 14.7698Z",
p3ebf6d00: "M9 2.8125C9.31066 2.8125 9.5625 3.06434 9.5625 3.375V8.4375H14.625C14.9357 8.4375 15.1875 8.68934 15.1875 9C15.1875 9.31066 14.9357 9.5625 14.625 9.5625H9.5625V14.625C9.5625 14.9357 9.31066 15.1875 9 15.1875C8.68934 15.1875 8.4375 14.9357 8.4375 14.625V9.5625H3.375C3.06434 9.5625 2.8125 9.31066 2.8125 9C2.8125 8.68934 3.06434 8.4375 3.375 8.4375H8.4375V3.375C8.4375 3.06434 8.68934 2.8125 9 2.8125Z",
pce5c80: "M17.7238 15.3487C17.3655 15.6933 16.7958 15.6821 16.4512 15.3238L12 10.5985L7.54875 15.3238C7.20423 15.6821 6.6345 15.6933 6.2762 15.3488C5.91791 15.0042 5.90674 14.4345 6.25125 14.0762L11.3512 8.6762C11.5209 8.49973 11.7552 8.4 12 8.4C12.2448 8.4 12.4791 8.49973 12.6487 8.6762L17.7487 14.0762C18.0933 14.4345 18.0821 15.0042 17.7238 15.3487Z",
peb08d00: "M4.53276 3.45918C4.42101 3.21108 4.30353 3.20538 4.19751 3.20253C4.11155 3.19968 4.01127 3.19968 3.91098 3.19968C3.81069 3.19968 3.65024 3.23675 3.5127 3.38504C3.37516 3.53333 2.99121 3.89264 2.99121 4.62553C2.99121 5.35557 3.52703 6.0628 3.60153 6.16261C3.67602 6.26242 4.63591 7.81089 6.15167 8.4069C7.41241 8.9031 7.67029 8.80329 7.9425 8.77762C8.2147 8.75196 8.82502 8.41831 8.95109 8.0704C9.0743 7.72249 9.0743 7.42591 9.03705 7.36318C8.9998 7.30044 8.89952 7.26337 8.75052 7.18922C8.60152 7.11508 7.868 6.75576 7.73046 6.70443C7.59293 6.65595 7.49264 6.63029 7.39522 6.77857C7.29493 6.92686 7.0084 7.26051 6.92244 7.36032C6.83648 7.46013 6.74765 7.47154 6.59866 7.3974C6.44966 7.32325 5.96829 7.16641 5.39809 6.6588C4.95396 6.26527 4.6531 5.77762 4.56714 5.62933C4.48118 5.48105 4.55854 5.4012 4.63304 5.32705C4.69895 5.26146 4.78204 5.1531 4.85654 5.06755C4.93104 4.982 4.95683 4.91926 5.00554 4.81945C5.05425 4.71964 5.03132 4.63409 4.99407 4.55994C4.95683 4.48865 4.66456 3.75291 4.53276 3.45918Z",
} as const;

interface CapacityTabContentProps {
  companyId: string;
  navigate: (path: string) => void;
}

// Mock capacity data
const mockCapacityData = {
  monday: [
    { id: 1, timeFrom: '08:00', timeUntil: '09:00', maxOrders: 4, inventoryCategories: ['6 m³', '8 m³'] },
    { id: 2, timeFrom: '08:00', timeUntil: '09:00', maxOrders: 4, inventoryCategories: ['6 m³', '8 m³'] },
    { id: 3, timeFrom: '08:00', timeUntil: '09:00', maxOrders: 4, inventoryCategories: ['6 m³', '8 m³'] }
  ],
  tuesday: [],
  wednesday: [],
  thursday: [],
  friday: [],
  saturday: [],
  sunday: []
};

export function CapacityTabContent({ companyId, navigate }: CapacityTabContentProps) {
  const [expandedDays, setExpandedDays] = useState<Record<string, boolean>>({ monday: true });

  const toggleDay = (day: string) => {
    setExpandedDays(prev => ({ ...prev, [day]: !prev[day] }));
  };

  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
  const dayLabels: Record<string, string> = {
    monday: 'Monday',
    tuesday: 'Tuesday',
    wednesday: 'Wednesday',
    thursday: 'Thursday',
    friday: 'Friday',
    saturday: 'Saturday',
    sunday: 'Sunday'
  };

  return (
    <div className="w-full max-w-[1220px] mt-6 mb-8">
      {/* Header */}
      <div className="flex flex-col sm:flex-row gap-4 sm:gap-0 items-start sm:items-center justify-between mb-4">
        <p className="font-['Inter:Bold',sans-serif] font-bold leading-[28px] text-[#171717] text-[20px] md:text-[24px]">
          Capacity Templates
        </p>
        <button 
          onClick={() => navigate(`/companies/${companyId}/capacity/add`)}
          className="bg-[#dbeafe] flex gap-[6px] items-center justify-center pl-[14px] pr-[16px] py-[8px] rounded-[8px] shadow-[0px_0.5px_2px_0px_rgba(0,0,0,0.05)] hover:bg-[#bfdbfe] transition-colors"
        >
          <svg className="size-[18px]" fill="none" viewBox="0 0 18 18">
            <path d={svgPaths.pa4516c0} fill="#1E3A8A" />
          </svg>
          <span className="font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[14px] text-[#1e3a8a]">
            New template
          </span>
        </button>
      </div>

      {/* Capacity Templates Card */}
      <div className="bg-white w-full rounded-[12px] shadow-[0px_1px_3px_0px_rgba(0,0,0,0.06),0px_0px_0px_1px_#ececee] overflow-hidden">
        <div className="p-4 md:p-[24px]">
          <div className="flex flex-col gap-[14px]">
            {days.map((day) => {
              const dayData = mockCapacityData[day as keyof typeof mockCapacityData];
              const isExpanded = expandedDays[day];

              return (
                <div key={day} className="border-b border-[#e5e5e5] last:border-b-0 pb-4 last:pb-0">
                  {/* Day Header */}
                  <button
                    onClick={() => toggleDay(day)}
                    className="flex items-center justify-between w-full py-2 hover:bg-[#fafafa] rounded-[8px] px-2 transition-colors"
                  >
                    <p className="font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#171717] text-[14px]">
                      {dayLabels[day]}
                    </p>
                    <svg 
                      className={`size-[20px] transition-transform ${isExpanded ? 'rotate-180' : ''}`} 
                      fill="none" 
                      viewBox="0 0 20 20"
                    >
                      <path 
                        clipRule="evenodd" 
                        d={svgPaths.p26e2b7f0} 
                        fill="#737373" 
                        fillRule="evenodd" 
                      />
                    </svg>
                  </button>

                  {/* Day Content */}
                  {isExpanded && (
                    <div className="mt-3 space-y-3">
                      {dayData.length === 0 ? (
                        <p className="font-['Inter:Regular',sans-serif] text-[14px] text-[#737373] px-2">
                          No templates added
                        </p>
                      ) : (
                        dayData.map((template) => (
                          <div
                            key={template.id}
                            className="bg-[#fafafa] rounded-[8px] p-3 md:p-4"
                          >
                            <div className="flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-6">
                              {/* Time */}
                              <div className="flex items-center gap-2 min-w-[120px]">
                                <p className="font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#171717] text-[14px]">
                                  Time
                                </p>
                                <p className="font-['Inter:Regular',sans-serif] leading-[24px] text-[#171717] text-[14px]">
                                  {template.timeFrom}-{template.timeUntil}
                                </p>
                              </div>

                              {/* Max orders count */}
                              <div className="flex items-center gap-2 min-w-[140px]">
                                <p className="font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#171717] text-[14px]">
                                  Max orders count
                                </p>
                                <p className="font-['Inter:Regular',sans-serif] leading-[24px] text-[#171717] text-[14px]">
                                  {template.maxOrders}
                                </p>
                              </div>

                              {/* Inventory categories */}
                              <div className="flex items-center gap-2 flex-1">
                                <p className="font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#171717] text-[14px]">
                                  Inventory categories
                                </p>
                                <div className="flex flex-wrap gap-2">
                                  {template.inventoryCategories.map((category, idx) => (
                                    <span
                                      key={idx}
                                      className="bg-[#fef3c7] px-[8px] py-[2px] rounded-[4px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#d97706] text-[12px]"
                                    >
                                      {category}
                                    </span>
                                  ))}
                                </div>
                              </div>

                              {/* Actions */}
                              <div className="flex gap-3 justify-end lg:justify-start">
                                <button
                                  onClick={() => navigate(`/companies/${companyId}/capacity/${template.id}/edit`)}
                                  className="p-2 hover:bg-[#dbeafe] rounded-[6px] transition-colors"
                                >
                                  <svg className="size-[16px]" fill="none" viewBox="0 0 16 16">
                                    <path d="M2.66667 11.3333L2 14L4.66667 13.3333L12.3927 5.60734C12.5857 5.41438 12.694 5.15232 12.694 4.87934C12.694 4.60636 12.5857 4.3443 12.3927 4.15134L11.8487 3.60734C11.6557 3.41438 11.3937 3.30603 11.1207 3.30603C10.8477 3.30603 10.5857 3.41438 10.3927 3.60734L2.66667 11.3333Z" stroke="#05376D" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
                                  </svg>
                                </button>
                                <button className="p-2 hover:bg-[#fee2e2] rounded-[6px] transition-colors">
                                  <svg className="size-[16px]" fill="none" viewBox="0 0 16 16">
                                    <path d="M2 4h12M5.333 4V2.667a1.333 1.333 0 0 1 1.334-1.334h2.666a1.333 1.333 0 0 1 1.334 1.334V4m2 0v9.333a1.334 1.334 0 0 1-1.334 1.334H4.667a1.334 1.334 0 0 1-1.334-1.334V4h9.334Z" stroke="#DC2626" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
                                  </svg>
                                </button>
                              </div>
                            </div>
                          </div>
                        ))
                      )}
                    </div>
                  )}
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </div>
  );
}
